---
interface Props {
  currentLang: 'es' | 'en';
}

const { currentLang } = Astro.props;

// Obtener la ruta actual sin el prefijo de idioma
const currentPath = Astro.url.pathname;
const pathWithoutLang = currentPath.replace(/^\/en/, '') || '/';

// Construir las URLs para cada idioma
// ES es el idioma por defecto, no tiene prefijo
const esUrl = pathWithoutLang;
// EN siempre tiene prefijo /en
const enUrl = `/en${pathWithoutLang === '/' ? '' : pathWithoutLang}`;
---

<div class="language-switcher animate-in delay-1">
  <div class="flex items-center gap-1 text-sm">
    <a 
      href={esUrl} 
      class={`lang-link ${currentLang === 'es' ? 'active' : ''}`}
      aria-label="Cambiar a espaÃ±ol"
    >
      ES
    </a>
    <span class="text-zinc-600">/</span>
    <a 
      href={enUrl} 
      class={`lang-link ${currentLang === 'en' ? 'active' : ''}`}
      aria-label="Switch to English"
    >
      EN
    </a>
  </div>
</div>

<style>
  .language-switcher {
    display: inline-flex;
    align-items: center;
  }

  .lang-link {
    color: #52525b;
    text-decoration: none;
    padding: 0.125rem 0.25rem;
    transition: color 0.2s ease;
    font-size: 0.875rem;
  }

  .lang-link:hover {
    color: #a1a1aa;
  }

  .lang-link.active {
    color: #fff;
    font-weight: 500;
  }

  .lang-link.active:hover {
    color: #fff;
  }
</style>
